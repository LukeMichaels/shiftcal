<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap-theme.min.css">
    <link rel="stylesheet" type="text/css" href="index.css">
    <script src="http://cdnjs.cloudflare.com/ajax/libs/mustache.js/0.7.0/mustache.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="shiftcal.js"></script>
    <title>S H I F T to Bikes</title>
</head>
<body>
    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="/">
                    <img alt="Shift2Bikes" src="images/shiftLogo_plain.gif" />
                </a>
            </div>
        </div>
    </nav>
    <div id="mustache-html"></div>

    <script id="mustache-template" type="text/template">
        {{#dates}}
        <div class="date">
        <div class="dateHeader">{{date}}</div>
            {{#events}}
                <div class="event row" data-event-id="{{id}}">
                    <div class="time col-md-4">
                        <h3>{{displayTime}}</h3>
                    </div>
                    <a class="expandDetails" href="#" data-toggle="collapse" data-target="#detailsContainer{{id}}">
                        <div class="col-md-8" >
                            <div class="summary">
                                <h3> {{title}} </h3>
                                <p> {{venue}} </p>
                                <p> {{address}} </p>
                                <p> {{length}}</p>
                            </div>
                        </div>
                    </a>
                    <div id="detailsContainer{{id}}" class="collapse">
                        <div class="hideButton col-md-4">
                            <button class="btn btn-default"data-toggle="collapse" data-target="#detailsContainer{{id}}">Hide</button>
                        </div>
                        <div class="eventDetails col-md-8">
                            <div class="otherButtons">
                                <a href="{{mapLink}}" target="_blank">
                                    <button class="btn btn-default map">Map</button>
                                </a>
                                <button class="btn btn-default export">Export</button>
                            </div>
                            <div class="mainDetails">
                                <p>{{details}}</p>
                                <p class="contactInfo">Organized by: {{organizer}}</p>
                                {{#email}}
                                <p class="email">Contact info: {{email}}</p>
                                {{/email}}
                            </div>
                        </div>
                    </div>
                </div>
            {{/events}}
        </div>
        {{/dates}}
    </script>
    <script id="mustache-edit" type="text/template">
        <div id="edit-header">
            <button id="events-button">Events</button>
            <button id="view-button">View Event</button>
            <button id="save-button">Save</button>
        </div>
        <div id="general-fields">
            <label for="event-title">Event title:</label>
            <input type="text" name="event-title" id="event-title"></input>
            <label for="event-description">Description:</label>
            <input type="text" name="event-description" id="event-description"></input>
            <label for="venue-name">Venue name:</label>
            <input type="text" name="venue-name" id="venue-name"></input>
            <label for="venue-address">Address</label>
            <input type="text" name="venue-address" id="venue-address"></input>
            <label for="route-length">Length of route:</label>
            <select name="route-length" id="route-length">
                {{# lengthOptions }}
                <option value="{{range}}" selected="{{isSelected}}">{{range}} miles</option>
                {{/ lengthOptions }}
            </select>
            <label for="event-dates">Dates:</label>
            <input name="start-date" id="start-date">{{startDate}}</input>
            <div id="show-repeat-options"></div>
            <div id="repeat-options">
                <input type="text" name="repeat-frequency">{{repeatFrequency}}</input>
                <label for="end-date">End date:</label>
                <input name="end-date" id="end-date">{{endDate}}</input>
            </div>
            <label for="event-time">Time:</label>
            <select name="event-time" id="event-time">
                {{# timeOptions }}
                <option value="{{time}}" selected="{{isSelected}}">{{time}}</option>
                {{/ timeOptions }}
            </select>
            <label for="organizer-name">Your name:</label>
            <input type="text" name="organizer-name" id="organizer-name"></input>
            <label for="organizer-email">Your email:</label>
            <input type="text" email="organizer-email" id="organizer-email"></input>
            <input type="checkbox" name="email-me" id="email-me"></input>
            <label for="email-me">Send forum messages to this email address</label>
            <input type="checkbox" name="hide-email" id="hide-email"></input>
            <label for="hide-email">Don't publish my email address online</label>
            <p>For tips on making your ride successful, we ask that you read the <a href="rideleadingcomic.html">Ride Leading Comic</a> at least once before submitting an event</p>
            <input type="checkbox" name="read-comic" id="read-comic"></input>
            <label for="read-comic">I have read the Ride Leading Comic</label>
        </div>
    </script>
</body>
</html>
